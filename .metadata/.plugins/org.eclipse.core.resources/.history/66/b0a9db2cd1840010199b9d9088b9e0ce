package com.kh.plant.run;

import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.sql.Statement;

public class PlantSelect {

	public static void main(String[] args) {

		// 0) í•„ìš”í•œ ë³€ìˆ˜ë“¤ ë¨¼ì € ì„¸íŒ… 
		Connection conn = null; 
		Statement stmt = null; 
		ResultSet rest = null;
		
		String sql = """
				 		SELECT 
				    		   FLOWER_ID
		                      , NAME
		                      , SCIENTIFIC_NAME
		                      , FAMILY
		                      , COLOR
		                      , BLOOM_SEASON
		                      , HEIGHT
		                      , ORIGIN
		                      , FRAGRANCE
		                      , SOIL_TYPE
		                      , SUNLIGHT
		                      , WATER_NEEDS
		                      , MAINTENANCE_LEVEL
		                      , DESCRIPTION
		                      , IMAGE_URL
		                   FROM 
		                        PLANT
		                  ORDER 
		                     BY 
		                     FLOWER_ID DESC
						""";
		
		try {
			Class.forName("oracle.jdbc.driver.OracleDriver");
			System.out.println("Driver ë“±ë¡ ì„±ê³µ!");
			
			conn = DriverManager.getConnection("jdbc:oracle:thin:@115.90.212.20:10000:XE",
                    "KHS02", "KHS021234");
			System.out.print("DB ì—°ê²° ì„±ê³µ!");	
			
			stmt = conn.createStatement();
			System.out.println("Statementê°ì²´ ìƒì„±!"); 
			
			rest = stmt.executeQuery(sql);
			
			while (rest.next()) {
			    int flowerId = rest.getInt("FLOWER_ID");
			    String name = rest.getString("NAME");
			    String scName = rest.getString("SCIENTIFIC_NAME");
			    String family = rest.getString("FAMILY");
			    String color = rest.getString("COLOR");
			    String blSeason = rest.getString("BLOOM_SEASON");
			    double height = rest.getDouble("HEIGHT");   // ì‹¤ì œ ì»¬ëŸ¼ëª…ì´ HEIGHTì¸ì§€ í™•ì¸í•˜ì„¸ìš”
			    String origin = rest.getString("ORIGIN");
			    String fragrance = rest.getString("FRAGRANCE");
			    String soilType = rest.getString("SOIL_TYPE");
			    String sunLight = rest.getString("SUNLIGHT");
			    String water = rest.getString("WATER_NEEDS");
			    String maintenance = rest.getString("MAINTENANCE_LEVEL");
			    String description = rest.getString("DESCRIPTION");
			    String imageUrl = rest.getString("IMAGE_URL");

			    System.out.println("======================================");
			    System.out.println("ğŸŒ¸ ë²ˆí˜¸: " + flowerId);
			    System.out.println("ì´ë¦„: " + name);
			    System.out.println("í•™ëª…: " + scName);
			    System.out.println("ê³¼: " + family);
			    System.out.println("ìƒ‰ìƒ: " + color);
			    System.out.println("ê°œí™”ì‹œê¸°: " + blSeason);
			    System.out.println("í‚¤: " + height + " cm");
			    System.out.println("ì›ì‚°ì§€: " + origin);
			    System.out.println("í–¥ê¸°: " + fragrance);
			    System.out.println("í™: " + soilType);
			    System.out.println("í–‡ë¹›: " + sunLight);
			    System.out.println("ë¬¼: " + water);
			    System.out.println("ê´€ë¦¬ ë‚œì´ë„: " + maintenance);
			    System.out.println("ì„¤ëª…: " + description);
			    System.out.println("ì´ë¯¸ì§€: " + imageUrl);
			    System.out.println("======================================\n");
			}
			
			
		} catch (ClassNotFoundException e) {
			e.printStackTrace();
		} catch (SQLException e) {
			e.printStackTrace();
		}
			
		
	}

}
